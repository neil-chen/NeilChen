<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     default_default
 * @copyright   Copyright (c) 2011 Magento Inc. (http://www.magentocommerce.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php
/**
 * @see Mage_Paypal_Block_Adminhtml_System_Config_Payflowlink_Info
 */
?>
<div style="padding-bottom: 1em;">
    <strong style="color:red"><?php echo $this->__('Important: ') ?></strong>
    <?php echo $this->__('To use Payflow Link, you must configure your Payflow Link account on the Paypal website.') ?><br />
    <?php echo $this->__('Once you log into your Payflow Link account, navigate to the Service Settings - Hosted Checkout Pages - Set Up menu and set the options described below') ?>
    <div>
        <u><?php echo $this->__('Required settings') ?></u>
        <?php echo $this->__(' note that the URLs provided below are the correct values for your current website): ') ?>
    </div>
    <ul style="list-style:disc; padding-left:2em;">
        <li>
            <strong><?php echo $this->__('Error URL: ') ?></strong><br />
            <a href="<?php echo $this->getFrontendUrl('paypal/payflow/returnUrl') ?>" onclick="return false;">
                <?php echo $this->getFrontendUrl('paypal/payflow/returnUrl') ?>
            </a>
        </li>
        <li>
            <strong><?php echo $this->__('Show confirmation page: ') ?></strong>
            <?php echo $this->__('On my website') ?>
        </li>
        <li>
            <strong><?php echo $this->__('Return URL: ') ?></strong><br />
            <a href="<?php echo $this->getFrontendUrl('paypal/payflow/returnUrl') ?>" onclick="return false;">
                <?php echo $this->getFrontendUrl('paypal/payflow/returnUrl') ?>
            </a>
        </li>
        <li>
            <strong><?php echo $this->__('Use Silent Post:') ?></strong><br />
            <?php echo $this->__('Yes') ?>
        </li>
        <li>
            <strong><?php echo $this->__('Silent Post URL:') ?></strong><br />
            <a href="<?php echo $this->getFrontendUrl('paypal/payflow/silentPost') ?>" onclick="return false;">
                <?php echo $this->getFrontendUrl('paypal/payflow/silentPost') ?>
            </a>
        </li>
            <li>
            <strong><?php echo $this->__('Enable Secure Token:') ?></strong><br />
            <?php echo $this->__('Yes') ?>
        </li>
    </ul>
    <div><?php echo $this->__('Note:') ?></div>
    <ul style="list-style:disc; padding-left:2em;">
        <li>
            <?php echo $this->__('Do not set any fields in the Billing and Shipping Information block as editable in your Payflow account.'); ?>
        </li>
        <li>
            <?php echo $this->__('Do not enable AVS or CSC options.  The do not work when using Payflow Link Silent Mode.') ?>
        </li>
        <li>
            <?php echo $this->__('If your Magento instance is used for multiple websites, you must configure a separate Payflow Link account for each website.') ?>
        </li>
        <li>
            <?php echo $this->__('Please navigate to <strong>Hosted Checkout Pages - Customize</strong> menu and select Layout C.') ?>
        </li>
    </ul>
</div>
<div id="PayFlowLinkLearnMoreText" style="display:none">
    <?php echo $this->__('When using Payflow Link in Magento, a payment authorization transaction must be performed after the shopper enters their credit card information on the Payment page of checkout.  If a full authorization is performed for the entire dollar amount of the transaction, then in some cases, the transaction amount might be reserved on the shopper\'s credit card for up to 30 days, even if they abandon their cart.  This is not an ideal customer experience.  Using this advanced setting in Magento, you can configure key details of this authorization.') ?>

    <ul style="list-style:disc; padding-left:2em;">
        <li>
            <?php echo $this->__('Select $0 Auth if your credit card processor supports $0 Auth capability and Reference Transactions, or if you are unsure what to select.  This setting provides the best experience for shoppers.') ?>
        </li>
        <li>
            <?php echo $this->__('Select $1 Auth if your credit card processor does not support $0 Auth, but does support Reference Transactions. This will provide a very good shopper experience, but might require you to pay a small additional authorization fee from your merchant account provider for any cart abandoned after payment details are entered.  If you select $0 Auth, but your credit card processor does not support $0 Auth, your transaction will run as a $1 Auth instead.') ?>
        </li>
        <li>
            <?php echo $this->__('Select Full Auth if you want to minimize your credit card processing fees, or if your credit card processor does not permit reference transactions.  Please note that in some cases, shoppers who abandon your cart late in the process may find that there is a payment authorization outstanding from your company, which will go away on its own in a few days/weeks. This authorization can be reversal by voiding it, however, there is no guarantee the card-issuing bank will accept this request.') ?>
        </li>
    </ul>
</div>
<script type="text/javascript">
    document.observe("dom:loaded", function() {
        $('row_paypal_payflow_link_authorization_amount').insert({after:'<tr id="PayFlowLinkLearnMoreRow"><td colspan="4"><tr>'});
        $('PayFlowLinkLearnMoreRow').down().insert({top:$('PayFlowLinkLearnMoreText')});
        $('PayFlowLinkLearnMore').observe('click', function(event){
            $('PayFlowLinkLearnMoreText').toggle();
            event.stop();
        });
    });
</script>
